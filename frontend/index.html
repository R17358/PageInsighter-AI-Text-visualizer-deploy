<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>PageInsighter AI - Vision System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
  </head>

  <body>
    <div class="particles" id="particles"></div>

    <header>
      âœ¦ PAGEINSIGHTER AI âœ¦
      <div class="subtitle">Advanced Vision & Processing System</div>
    </header>

    <div class="tabs">
      <div class="tab active" onclick="switchTab('chat')">ğŸ’¬ AI Chat</div>
      <div class="tab" onclick="switchTab('query')">ğŸ¤– Ask AI</div>
      <div class="tab" onclick="switchTab('prompt')">âœ¨ Prompt Gen</div>
      <div class="tab" onclick="switchTab('visualize')">ğŸ¨ Visualize</div>
      <div class="tab" onclick="switchTab('upload')">ğŸ“ Upload & Process</div>
      <div class="tab" onclick="switchTab('explain')">ğŸ” Explain Image</div>
    </div>

    <div class="container">
      <!-- Stats Dashboard -->
      <div class="stats">
        <div class="stat-card">
          <div class="stat-value" id="totalRequests">0</div>
          <div class="stat-label">Total Requests</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="imagesGenerated">0</div>
          <div class="stat-label">Images Generated</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="filesProcessed">0</div>
          <div class="stat-label">Files Processed</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="chatMessagesState">0</div>
          <div class="stat-label">Chat Messages</div>
        </div>
      </div>

      <!-- AI Chat Tab -->
      <div id="chat" class="tab-content active">
        <div class="card chat-card">
          <div class="chat-header">
            <h2>ğŸ’¬ AI Chat Assistant</h2>
            <div class="chat-controls">
              <button class="icon-btn" onclick="clearChat()" title="Clear Chat">
                ğŸ—‘ï¸
              </button>
              <button
                class="icon-btn"
                onclick="exportChat()"
                title="Export Chat"
              >
                ğŸ’¾
              </button>
            </div>
          </div>

          <!-- Chat Messages Container -->
          <div class="chat-messages" id="conversation">
            <div class="welcome-message">
              <div class="welcome-icon">ğŸ¤–</div>
              <h3>Welcome to PageInsighter AI Chat!</h3>
              <p>I can help you with:</p>
              <ul>
                <li>ğŸ–¼ï¸ Generate images from text descriptions</li>
                <li>ğŸ” Search the web for current information</li>
                <li>ğŸ“„ Analyze documents and images</li>
                <li>ğŸ’¡ Answer questions and solve problems</li>
                <li>ğŸ¨ Create visual content with multiple styles</li>
              </ul>
              <p class="welcome-tip">
                Try: "Generate an image of a sunset over mountains" or "Analyze
                this document"
              </p>
            </div>
          </div>

          <!-- <div id="conversation"></div> -->

          <!-- File Upload Preview (for chat) -->
          <div
            id="chatFilePreview"
            class="chat-file-preview"
            style="display: none"
          ></div>

          <!-- Chat Input Area -->
          <div class="chat-input-container">
            <input
              type="file"
              id="chatFileInput"
              accept="image/*,.pdf"
              style="display: none"
              multiple
            />
            <button
              class="icon-btn attach-btn"
              onclick="document.getElementById('chatFileInput').click()"
              title="Attach Files"
            >
              ğŸ“
            </button>
            <!-- <textarea
              id="chatInput"
              placeholder="Type your message here... (Ctrl+Enter to send)"
              rows="1"
              onkeydown="handleEnter(event)"
            ></textarea> -->
             <textarea
              id="chatInput"
              placeholder="Type your message here... (Ctrl+Enter to send)"
              rows="1"
            ></textarea>

            <button
              class="icon-btn send-btn"
              onclick="sendChatMessage()"
              title="Send Message"
            >
              â¤
          </button>
          </div>
        </div>
      </div>

      <!-- Ask AI Tab -->
      <div id="query" class="tab-content">
        <div class="card">
          <h2>Ask AI Anything</h2>
          <div class="form-group">
            <label>Your Question</label>
            <textarea
              id="queryText"
              placeholder="What would you like to know?"
            ></textarea>
          </div>
          <div class="form-group">
            <label>Translation Language</label>
            <select id="queryLang">
              <option value="none">No Translation</option>
              <option value="hindi">Hindi (à¤¹à¤¿à¤‚à¤¦à¥€)</option>
              <option value="english">English</option>
              <option value="marathi">Marathi (à¤®à¤°à¤¾à¤ à¥€)</option>
              <option value="gujarati">Gujarati (àª—à«àªœàª°àª¾àª¤à«€)</option>
            </select>
          </div>
          <button class="btn" onclick="askQuery()">âœ¨ Get Answer</button>
          <div class="loading" id="queryLoading"></div>
          <div id="queryResult" class="output" style="display: none"></div>
        </div>
      </div>

      <!-- Prompt Generator Tab -->
      <div id="prompt" class="tab-content">
        <div class="card">
          <h2>Image Prompt Generator</h2>
          <div class="form-group">
            <label>Describe Your Scene</label>
            <textarea
              id="promptText"
              placeholder="A futuristic city with flying cars at sunset..."
            ></textarea>
          </div>
          <button class="btn" onclick="generatePrompt()">
            ğŸ¯ Generate Prompt
          </button>
          <div class="loading" id="promptLoading"></div>
          <div id="promptResult" class="output" style="display: none"></div>
        </div>
      </div>

      <!-- Visualize Tab -->
      <div id="visualize" class="tab-content">
        <div class="card">
          <h2>Text to Image</h2>
          <div class="form-group">
            <label>Text to Visualize</label>
            <textarea
              id="visualText"
              placeholder="Transform your words into stunning visuals..."
            ></textarea>
          </div>
          <div class="form-group">
            <label>Image Style</label>
            <select id="visualStyle">
              <option value="realistic">Realistic</option>
              <option value="academic art">Academic Art</option>
              <option value="fantasy art">Fantasy Art</option>
              <option value="ghibli studio">Ghibli Studio</option>
              <option value="comic style">Comic Style</option>
              <option value="anime style">Anime Style</option>
              <option value="oil painting">Oil Painting</option>
              <option value="watercolor">Watercolor</option>
              <option value="cyberpunk">Cyberpunk</option>
              <option value="minimalist">Minimalist</option>
            </select>
          </div>
          <button class="btn" onclick="visualize()">ğŸ¨ Generate Image</button>
          <div class="loading" id="visualLoading"></div>
          <div
            id="visualContainer"
            class="image-result-container"
            style="display: none"
          >
            <div class="image-wrapper">
              <img
                id="visualImage"
                class="generated"
                alt="Generated visualization"
              />
              <button class="download-btn" onclick="downloadVisualImage()">
                â¬‡ Download
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Upload Tab -->
      <div id="upload" class="tab-content">
        <div class="card">
          <h2>Upload & Process File</h2>
          <div class="form-group">
            <label>Select Image or PDF</label>
            <input type="file" id="fileInput" accept="image/*,.pdf" />
          </div>
          <div class="form-group">
            <label>Translation Language</label>
            <select id="fileLang">
              <option value="none">No Translation</option>
              <option value="hindi">Hindi (à¤¹à¤¿à¤‚à¤¦à¥€)</option>
              <option value="english">English</option>
              <option value="marathi">Marathi (à¤®à¤°à¤¾à¤ à¥€)</option>
            </select>
          </div>
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="explainCheck" />
              <span>Explain/Solve Content</span>
            </label>
            <label>
              <input type="checkbox" id="imageCheck" checked />
              <span>Generate Visual Images</span>
            </label>
          </div>
          <div class="form-group" id="imageStyleGroup">
            <label>Image Style (for generated visuals)</label>
            <select id="fileImageStyle">
              <option value="realistic">Realistic</option>
              <option value="academic art">Academic Art</option>
              <option value="fantasy art">Fantasy Art</option>
              <option value="ghibli studio">Ghibli Studio</option>
              <option value="comic style">Comic Style</option>
              <option value="anime style">Anime Style</option>
              <option value="oil painting">Oil Painting</option>
              <option value="watercolor">Watercolor</option>
              <option value="cyberpunk">Cyberpunk</option>
              <option value="minimalist">Minimalist</option>
            </select>
          </div>
          <button class="btn" onclick="processFile()">âš¡ Process File</button>
          <div class="loading" id="fileLoading"></div>
          <div id="fileResult" class="output" style="display: none"></div>
          <div id="fileImages" class="images-grid"></div>
        </div>
      </div>

      <!-- Explain Image Tab -->
      <div id="explain" class="tab-content">
        <div class="card">
          <h2>Explain Image Content</h2>
          <div class="form-group">
            <label>Upload Image to Explain</label>
            <input type="file" id="explainInput" accept="image/*" />
          </div>
          <div class="form-group">
            <label>Translation Language</label>
            <select id="explainLang">
              <option value="none">No Translation</option>
              <option value="hindi">Hindi (à¤¹à¤¿à¤‚à¤¦à¥€)</option>
              <option value="english">English</option>
            </select>
          </div>
          <button class="btn" onclick="explainImage()">ğŸ” Explain Image</button>
          <div class="loading" id="explainLoading"></div>
          <div id="explainResult" class="output" style="display: none"></div>
        </div>
      </div>
    </div>

    <footer>
      Â© 2026 PageInsighter AI â€¢ Advanced Vision Processing System<br />
      Powered by Gemini AI & Cutting-Edge Technology
    </footer>

    <div class="toast-container" id="toastContainer"></div>

    <script src="./script.js"></script>
  </body>
</html>
